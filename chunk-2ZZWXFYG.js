import{c as Qe,g as Ke,h as We,j as _e}from"./chunk-GLLS3MSI.js";import{d as Ct}from"./chunk-2ZHP6MJH.js";import{D as _t,E as gt,F as xt,G as vt,H as yt,I as Ie,J as bt,K as It,d as X,e as at,f as rt,h as lt,j as st,m as mt,n as ct,q as pt,t as dt,u as ut,w as ft,y as ht}from"./chunk-KS4OYI24.js";import{c as ot,d as ve,f as ye,h as be}from"./chunk-36JN3LZY.js";import{Aa as it,Ba as xe,C as Ze,Fa as nt,H as P,I as J,J as z,V as Ue,ga as Ge,i as ze,j as Be,k as fe,ka as Ye,l as qe,m as he,n as R,na as Je,oa as B,r as $,sa as Xe,ua as ge,va as et,ya as tt,z as je}from"./chunk-GLO2RZQ3.js";import{$ as x,$a as d,$b as O,Ab as L,B as we,Bb as k,Db as _,Eb as l,Ga as ae,Ha as He,Hb as w,Ib as le,Jb as T,Ka as m,Kb as S,Nb as D,P as De,Q as Oe,Qa as A,Qb as F,R as Ee,Rb as f,Sb as y,Tb as I,Ub as Ne,V,Wa as C,Xa as Ve,Za as Ae,Zb as se,_ as g,_a as re,_b as Re,a as Me,ac as G,b as ke,bb as E,bc as $e,ec as me,fc as ce,gc as Y,ha as v,kb as b,kc as pe,la as Le,lb as q,mb as Q,nb as K,nc as Pe,oc as N,pb as W,qb as j,ra as Fe,rb as r,sb as c,tb as p,ub as u,uc as de,vc as ue,yb as Z,zb as U}from"./chunk-ZTPKSPIT.js";var Ot=(t,o,e)=>({active:t,inactive:o,"p-button-outlined":e});function Et(t,o){if(t&1&&(c(0,"span",5),y(1),p()),t&2){let e=l();r("ngClass",$e(2,Ot,e.shiftSelected().shift=="Ma\xF1ana",e.shiftSelected().shift=="Noche",e.shiftSelected().shift=="Tarde")),m(),I(e.shiftSelected().text)}}var ee=class t{shifts;shiftSelected=v({shift:"",text:""});setShift=Pe();fb=V(ft);filtersForm;constructor(){this.filtersForm=this.fb.group({name:[""],rol:[""]}),this.shifts=v([{shift:"Ma\xF1ana",text:"Ma\xF1ana 7:00 a 15:00 hs"},{shift:"Tarde",text:"Tarde 15:00 a 23:00 hs"},{shift:"Noche",text:"Noche 23:00 a 07:00 hs"}]),this.filtersForm.valueChanges.pipe(we(300)).subscribe({next:o=>console.log(o)})}setStatusSelected=o=>{this.shiftSelected.set(o.value||""),this.setShift.emit(o.value?.shift||"")};static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-shift-header"]],outputs:{setShift:"setShift"},decls:14,vars:3,consts:[[1,"w-full"],[1,"grid","m-0","w-full","div-filters",3,"formGroup"],[1,"col-2","ml-3"],["optionLabel","shift","size","small","placeholder","Turno","showClear","",1,"w-full",3,"onChange","options"],[1,"col-2","px-1","flex","align-content-center"],[1,"btn","text-xs",3,"ngClass"],[1,"col-3","ml-3","flex","align-content-center"],[1,"outline-none","w-10"],["type","text","pInputText","","placeholder","Empleado","formControlName","name",1,"h-full","w-full","underline-input"],[1,"pi","pi-search"],[1,"col-3","flex","align-content-center"],["type","text","pInputText","","placeholder","Rol","formControlName","rol",1,"h-full","w-full","underline-input"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"form",1)(2,"div",2)(3,"p-select",3),_("onChange",function(n){return i.setStatusSelected(n)}),p()(),c(4,"div",4),q(5,Et,2,6,"span",5),p(),c(6,"div",6)(7,"p-iconfield",7),u(8,"input",8)(9,"p-inputicon",9),p()(),c(10,"div",10)(11,"p-iconfield",7),u(12,"input",11)(13,"p-inputicon",9),p()()()()),e&2&&(m(),r("formGroup",i.filtersForm),m(2),r("options",i.shifts()),m(2),Q(i.shiftSelected().shift?5:-1))},dependencies:[It,bt,vt,xt,ht,pt,st,mt,ct,dt,ut,R,ze,gt,_t],encapsulation:2})};var Te=t=>{let o=Lt(t).map(a=>({date:a,late:[],morning:[],night:[]})),e=Ct(),i=()=>{let a=Math.floor(Math.random()*25)+21;return{employees:Array.from({length:a},()=>{let n=Math.floor(Math.random()*e.length),{id:s,image:h,name:M,rol:H}=e[n];return{id:s,image:h,name:M,rol:H}}),quota:Math.floor(Math.random()*10)+41}};return o.map(a=>ke(Me({},a),{quote:Math.floor(Math.random()*40)+21,late:i(),night:i(),morning:i()}))},Lt=(t=new Date)=>{let o=[],i=new Date(t).getDay(),a=i===0?6:i-1,n=new Date(t);n.setDate(t.getDate()-a),n.setHours(0,0,0,0);for(let s=0;s<7;s++){let h=new Date(n);h.setDate(n.getDate()+s),o.push(h)}return o};var St=`
    .p-menu {
        background: dt('menu.background');
        color: dt('menu.color');
        border: 1px solid dt('menu.border.color');
        border-radius: dt('menu.border.radius');
        min-width: 12.5rem;
    }

    .p-menu-list {
        margin: 0;
        padding: dt('menu.list.padding');
        outline: 0 none;
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: dt('menu.list.gap');
    }

    .p-menu-item-content {
        transition:
            background dt('menu.transition.duration'),
            color dt('menu.transition.duration');
        border-radius: dt('menu.item.border.radius');
        color: dt('menu.item.color');
        overflow: hidden;
    }

    .p-menu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('menu.item.padding');
        gap: dt('menu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-menu-item-label {
        line-height: 1;
    }

    .p-menu-item-icon {
        color: dt('menu.item.icon.color');
    }

    .p-menu-item.p-focus .p-menu-item-content {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item.p-focus .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-overlay {
        box-shadow: dt('menu.shadow');
    }

    .p-menu-submenu-label {
        background: dt('menu.submenu.label.background');
        padding: dt('menu.submenu.label.padding');
        color: dt('menu.submenu.label.color');
        font-weight: dt('menu.submenu.label.font.weight');
    }

    .p-menu-separator {
        border-block-start: 1px solid dt('menu.separator.border.color');
    }
`;var Ft=["pMenuItemContent",""],ie=t=>({$implicit:t}),Ht=()=>({exact:!1}),Vt=t=>({item:t});function At(t,o){t&1&&L(0)}function Nt(t,o){if(t&1&&(c(0,"a",6),d(1,At,1,0,"ng-container",7),p()),t&2){let e=l(2),i=D(4);f(e.cx("itemLink")),r("target",e.item.target),b("title",e.item.title)("href",e.item.url||null,He)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),m(),r("ngTemplateOutlet",i)("ngTemplateOutletContext",O(10,ie,e.item))}}function Rt(t,o){t&1&&L(0)}function $t(t,o){if(t&1&&(c(0,"a",8),d(1,Rt,1,0,"ng-container",7),p()),t&2){let e=l(2),i=D(4);f(e.cx("itemLink")),r("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||Re(18,Ht))("target",e.item.target)("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),b("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),m(),r("ngTemplateOutlet",i)("ngTemplateOutletContext",O(19,ie,e.item))}}function Pt(t,o){if(t&1&&(Z(0),d(1,Nt,2,12,"a",4)(2,$t,2,21,"a",5),U()),t&2){let e=l();m(),r("ngIf",!(e.item!=null&&e.item.routerLink)),m(),r("ngIf",e.item==null?null:e.item.routerLink)}}function zt(t,o){}function Bt(t,o){t&1&&d(0,zt,0,0,"ng-template")}function qt(t,o){if(t&1&&(Z(0),d(1,Bt,1,0,null,7),U()),t&2){let e=l();m(),r("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",O(2,ie,e.item))}}function Qt(t,o){if(t&1&&u(0,"span"),t&2){let e=l(2);F(e.item.iconStyle),f(e.cx("itemIcon",O(4,Vt,e.item)))}}function Kt(t,o){if(t&1&&(c(0,"span"),y(1),p()),t&2){let e=l(2);f(e.cx("itemLabel")),m(),I(e.item.label)}}function Wt(t,o){if(t&1&&(u(0,"span",12),me(1,"safeHtml")),t&2){let e=l(2);r("innerHTML",ce(1,1,e.item.label),ae)}}function jt(t,o){if(t&1&&u(0,"p-badge",13),t&2){let e=l(2);r("styleClass",e.item.badgeStyleClass)("value",e.item.badge)}}function Zt(t,o){if(t&1&&d(0,Qt,1,6,"span",9)(1,Kt,2,3,"span",10)(2,Wt,2,3,"ng-template",null,1,Y)(4,jt,1,2,"p-badge",11),t&2){let e=D(3),i=l();r("ngIf",i.item.icon),m(),r("ngIf",i.item.escape!==!1)("ngIfElse",e),m(3),r("ngIf",i.item.badge)}}var Ut=["start"],Gt=["end"],Yt=["header"],Jt=["item"],Xt=["submenuheader"],ei=["list"],ti=["container"],ii=(t,o)=>({showTransitionParams:t,hideTransitionParams:o}),ni=t=>({value:"visible",params:t}),Mt=(t,o)=>({item:t,id:o});function oi(t,o){t&1&&L(0)}function ai(t,o){if(t&1&&(c(0,"div"),d(1,oi,1,0,"ng-container",8),p()),t&2){let e=l(2);f(e.cx("start")),b("data-pc-section","start"),m(),r("ngTemplateOutlet",e.startTemplate??e._startTemplate)}}function ri(t,o){if(t&1&&u(0,"li",12),t&2){let e=l(4);f(e.cx("separator"))}}function li(t,o){if(t&1&&(c(0,"span"),y(1),p()),t&2){let e=l(3).$implicit;m(),I(e.label)}}function si(t,o){if(t&1&&(u(0,"span",16),me(1,"safeHtml")),t&2){let e=l(3).$implicit;r("innerHTML",ce(1,1,e.label),ae)}}function mi(t,o){if(t&1&&(Z(0),d(1,li,2,1,"span",15)(2,si,2,3,"ng-template",null,2,Y),U()),t&2){let e=D(3),i=l(2).$implicit;m(),r("ngIf",i.escape!==!1)("ngIfElse",e)}}function ci(t,o){t&1&&L(0)}function pi(t,o){if(t&1&&(c(0,"li",13),d(1,mi,4,2,"ng-container",7)(2,ci,1,0,"ng-container",14),p()),t&2){let e=l(),i=e.$implicit,a=e.index,n=l(3);f(n.cx("submenuLabel")),r("tooltipOptions",i.tooltipOptions),b("data-automationid",i.automationId)("id",n.menuitemId(i,n.id,a)),m(),r("ngIf",!n.submenuHeaderTemplate&&!n._submenuHeaderTemplate),m(),r("ngTemplateOutlet",n.submenuHeaderTemplate??n._submenuHeaderTemplate)("ngTemplateOutletContext",O(8,ie,i))}}function di(t,o){if(t&1&&u(0,"li",12),t&2){let e=l(5);f(e.cx("separator"))}}function ui(t,o){if(t&1){let e=k();c(0,"li",18),_("onMenuItemClick",function(a){g(e);let n=l(),s=n.$implicit,h=n.index,M=l().index,H=l(3);return x(H.itemClick(a,H.menuitemId(s,H.id,M,h)))}),p()}if(t&2){let e=l(),i=e.$implicit,a=e.index,n=l().index,s=l(3);F(i.style),f(s.cn(s.cx("item",G(13,Mt,i,s.menuitemId(i,s.id,n,a))),i==null?null:i.styleClass)),r("pMenuItemContent",i)("itemTemplate",s.itemTemplate??s._itemTemplate)("tooltipOptions",i.tooltipOptions),b("data-pc-section","menuitem")("aria-label",s.label(i.label))("data-p-focused",s.isItemFocused(s.menuitemId(i,s.id,n,a)))("data-p-disabled",s.disabled(i.disabled))("aria-disabled",s.disabled(i.disabled))("id",s.menuitemId(i,s.id,n,a))}}function fi(t,o){if(t&1&&d(0,di,1,2,"li",10)(1,ui,1,16,"li",17),t&2){let e=o.$implicit,i=l().$implicit;r("ngIf",e.separator&&(e.visible!==!1||i.visible!==!1)),m(),r("ngIf",!e.separator&&e.visible!==!1&&(e.visible!==void 0||i.visible!==!1))}}function hi(t,o){if(t&1&&d(0,ri,1,2,"li",10)(1,pi,3,10,"li",11)(2,fi,2,2,"ng-template",9),t&2){let e=o.$implicit;r("ngIf",e.separator&&e.visible!==!1),m(),r("ngIf",!e.separator),m(),r("ngForOf",e.items)}}function _i(t,o){if(t&1&&d(0,hi,3,3,"ng-template",9),t&2){let e=l(2);r("ngForOf",e.model)}}function gi(t,o){if(t&1&&u(0,"li",12),t&2){let e=l(4);f(e.cx("separator"))}}function xi(t,o){if(t&1){let e=k();c(0,"li",20),_("onMenuItemClick",function(a){g(e);let n=l(),s=n.$implicit,h=n.index,M=l(3);return x(M.itemClick(a,M.menuitemId(s,M.id,h)))}),p()}if(t&2){let e=l(),i=e.$implicit,a=e.index,n=l(3);f(n.cn(n.cx("item",G(12,Mt,i,n.menuitemId(i,n.id,a))),i==null?null:i.styleClass)),r("pMenuItemContent",i)("itemTemplate",n.itemTemplate??n._itemTemplate)("ngStyle",i.style)("tooltipOptions",i.tooltipOptions),b("data-pc-section","menuitem")("aria-label",n.label(i.label))("data-p-focused",n.isItemFocused(n.menuitemId(i,n.id,a)))("data-p-disabled",n.disabled(i.disabled))("aria-disabled",n.disabled(i.disabled))("id",n.menuitemId(i,n.id,a))}}function vi(t,o){if(t&1&&d(0,gi,1,2,"li",10)(1,xi,1,15,"li",19),t&2){let e=o.$implicit;r("ngIf",e.separator&&e.visible!==!1),m(),r("ngIf",!e.separator&&e.visible!==!1)}}function yi(t,o){if(t&1&&d(0,vi,2,2,"ng-template",9),t&2){let e=l(2);r("ngForOf",e.model)}}function bi(t,o){t&1&&L(0)}function Ii(t,o){if(t&1&&(c(0,"div"),d(1,bi,1,0,"ng-container",8),p()),t&2){let e=l(2);f(e.cx("end")),b("data-pc-section","end"),m(),r("ngTemplateOutlet",e.endTemplate??e._endTemplate)}}function Ci(t,o){if(t&1){let e=k();c(0,"div",4,0),_("click",function(a){g(e);let n=l();return x(n.onOverlayClick(a))})("@overlayAnimation.start",function(a){g(e);let n=l();return x(n.onOverlayAnimationStart(a))})("@overlayAnimation.done",function(a){g(e);let n=l();return x(n.onOverlayAnimationEnd(a))}),d(2,ai,2,4,"div",5),c(3,"ul",6,1),_("focus",function(a){g(e);let n=l();return x(n.onListFocus(a))})("blur",function(a){g(e);let n=l();return x(n.onListBlur(a))})("keydown",function(a){g(e);let n=l();return x(n.onListKeyDown(a))}),d(5,_i,1,1,null,7)(6,yi,1,1,null,7),p(),d(7,Ii,2,4,"div",5),p()}if(t&2){let e=l();F(e.sx("root")),f(e.cn(e.cx("root"),e.styleClass)),r("ngStyle",e.style)("@overlayAnimation",O(24,ni,G(21,ii,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),b("data-pc-name","menu")("id",e.id),m(2),r("ngIf",e.startTemplate??e._startTemplate),m(),f(e.cx("list")),b("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),m(2),r("ngIf",e.hasSubMenu()),m(),r("ngIf",!e.hasSubMenu()),m(),r("ngIf",e.endTemplate??e._endTemplate)}}var Ti={root:({instance:t})=>({position:t.popup?"absolute":"relative"})},Si={root:({instance:t})=>["p-menu p-component",{"p-menu-overlay":t.popup}],start:"p-menu-start",list:"p-menu-list",submenuLabel:"p-menu-submenu-label",separator:"p-menu-separator",end:"p-menu-end",item:({instance:t,item:o,id:e})=>["p-menu-item",{"p-focus":t.focusedOptionId()&&e===t.focusedOptionId(),"p-disabled":t.disabled(o.disabled)},o.styleClass],itemContent:"p-menu-item-content",itemLink:"p-menu-item-link",itemIcon:({item:t})=>["p-menu-item-icon",t.icon,t.iconClass],itemLabel:"p-menu-item-label"},te=(()=>{class t extends Xe{name="menu";theme=St;classes=Si;inlineStyles=Ti;static \u0275fac=(()=>{let e;return function(a){return(e||(e=Le(t)))(a||t)}})();static \u0275prov=Oe({token:t,factory:t.\u0275fac})}return t})();var kt=(()=>{class t{platformId;sanitizer;constructor(e,i){this.platformId=e,this.sanitizer=i}transform(e){return!e||!$(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(i){return new(i||t)(A(Fe,16),A(Qe,16))};static \u0275pipe=Ae({name:"safeHtml",type:t,pure:!0})}return t})(),Mi=(()=>{class t extends ge{item;itemTemplate;onMenuItemClick=new E;menu;_componentStyle=V(te);constructor(e){super(),this.menu=e}onItemClick(e,i){this.onMenuItemClick.emit({originalEvent:e,item:i})}static \u0275fac=function(i){return new(i||t)(A(De(()=>ne)))};static \u0275cmp=C({type:t,selectors:[["","pMenuItemContent",""]],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},features:[se([te]),re],attrs:Ft,decls:5,vars:5,consts:[["itemContent",""],["htmlLabel",""],[3,"click"],[4,"ngIf"],["pRipple","",3,"class","target",4,"ngIf"],["routerLinkActive","p-menu-item-link-active","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menu-item-link-active","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class","style",4,"ngIf"],[3,"class",4,"ngIf","ngIfElse"],[3,"styleClass","value",4,"ngIf"],[1,"p-menu-item-label",3,"innerHTML"],[3,"styleClass","value"]],template:function(i,a){if(i&1){let n=k();c(0,"div",2),_("click",function(h){return g(n),x(a.onItemClick(h,a.item))}),d(1,Pt,3,2,"ng-container",3)(2,qt,2,4,"ng-container",3)(3,Zt,5,4,"ng-template",null,0,Y),p()}i&2&&(f(a.cx("itemContent")),b("data-pc-section","content"),m(),r("ngIf",!a.itemTemplate),m(),r("ngIf",a.itemTemplate))},dependencies:[R,fe,he,_e,Ke,We,nt,Ie,xe,it,B,kt],encapsulation:2})}return t})(),ne=(()=>{class t extends ge{overlayService;model;popup;style;styleClass;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;appendTo=N(void 0);onShow=new E;onHide=new E;onBlur=new E;onFocus=new E;listViewChild;containerViewChild;$appendTo=pe(()=>this.appendTo()||this.config.overlayAppendTo());container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=pe(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=v(-1);selectedOptionIndex=v(-1);focused=!1;overlayVisible=!1;relativeAlign;_componentStyle=V(te);constructor(e){super(),this.overlayService=e,this.id=this.id||Ge("pn_id_")}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.markForCheck()}ngOnInit(){super.ngOnInit(),this.popup||this.bindDocumentClickListener()}startTemplate;_startTemplate;endTemplate;_endTemplate;headerTemplate;_headerTemplate;itemTemplate;_itemTemplate;submenuHeaderTemplate;_submenuHeaderTemplate;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this._startTemplate=e.template;break;case"end":this._endTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"submenuheader":this._submenuHeaderTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.attrSelector&&this.container?.setAttribute(this.attrSelector,""),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),z(this.listViewChild?.nativeElement));break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&X.clear(e.element);break}}alignOverlay(){this.relativeAlign?Ze(this.container,this.target):je(this.container,this.target)}appendOverlay(){et.appendOverlay(this.container,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}restoreOverlayAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&X.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!Ue()&&this.hide()}menuitemId(e,i,a,n){return e?.id??`${i}_${a}${n!==void 0?"_"+n:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(z(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let i=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(i),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)z(this.target),this.hide(),e.preventDefault();else{let i=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(i),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(P(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let i=J(this.containerViewChild?.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),a=i&&(J(i,'[data-pc-section="action"]')||J(i,"a,button"));this.popup&&z(this.target),a?a.click():i&&i.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let a=[...P(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(n=>n.id===e);return a>-1?a+1:0}findPrevOptionIndex(e){let a=[...P(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(n=>n.id===e);return a>-1?a-1:0}changeFocusedOptionIndex(e){let i=P(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(i.length>0){let a=e>=i.length?i.length-1:e<0?0:e;a>-1&&this.focusedOptionIndex.set(i[a].getAttribute("id"))}}itemClick(e,i){let{originalEvent:a,item:n}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),n.disabled){a.preventDefault();return}!n.url&&!n.routerLink&&a.preventDefault(),n.command&&n.command({originalEvent:a,item:n}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==i&&this.focusedOptionIndex.set(i)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&$(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",i=>{let a=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(i.target),n=!(this.target&&(this.target===i.target||this.target.contains(i.target)));!this.popup&&a&&n&&this.onListBlur(i),this.preventDocumentDefault&&this.overlayVisible&&a&&n&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&$(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&$(this.platformId)&&(this.scrollHandler=new tt(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&X.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener(),super.ngOnDestroy()}hasSubMenu(){return this.model?.some(e=>e.items)??!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(i=>i.visible!==!1):e.visible===!1}static \u0275fac=function(i){return new(i||t)(A(Ye))};static \u0275cmp=C({type:t,selectors:[["p-menu"]],contentQueries:function(i,a,n){if(i&1&&(w(n,Ut,4),w(n,Gt,4),w(n,Yt,4),w(n,Jt,4),w(n,Xt,4),w(n,Je,4)),i&2){let s;T(s=S())&&(a.startTemplate=s.first),T(s=S())&&(a.endTemplate=s.first),T(s=S())&&(a.headerTemplate=s.first),T(s=S())&&(a.itemTemplate=s.first),T(s=S())&&(a.submenuHeaderTemplate=s.first),T(s=S())&&(a.templates=s)}},viewQuery:function(i,a){if(i&1&&(le(ei,5),le(ti,5)),i&2){let n;T(n=S())&&(a.listViewChild=n.first),T(n=S())&&(a.containerViewChild=n.first)}},inputs:{model:"model",popup:[2,"popup","popup",de],style:"style",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",de],baseZIndex:[2,"baseZIndex","baseZIndex",ue],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",ue],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[se([te]),re],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"class","style","ngStyle","click",4,"ngIf"],[3,"click","ngStyle"],[3,"class",4,"ngIf"],["role","menu",3,"focus","blur","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["role","separator",3,"class",4,"ngIf"],["pTooltip","","role","none",3,"class","tooltipOptions",4,"ngIf"],["role","separator"],["pTooltip","","role","none",3,"tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["pTooltip","","role","menuitem",3,"class","pMenuItemContent","itemTemplate","style","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","tooltipOptions"],["pTooltip","","role","menuitem",3,"class","pMenuItemContent","itemTemplate","ngStyle","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngStyle","tooltipOptions"]],template:function(i,a){i&1&&d(0,Ci,8,26,"div",3),i&2&&r("ngIf",!a.popup||a.visible)},dependencies:[R,Be,fe,he,qe,_e,Mi,Ie,yt,xe,B,kt],encapsulation:2,data:{animation:[ot("overlayAnimation",[be(":enter",[ye({opacity:0,transform:"scaleY(0.8)"}),ve("{{showTransitionParams}}")]),be(":leave",[ve("{{hideTransitionParams}}",ye({opacity:0}))])])]},changeDetection:0})}return t})(),wt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ve({type:t});static \u0275inj=Ee({imports:[ne,B,B]})}return t})();function wi(t,o){if(t&1&&u(0,"p-avatar",10),t&2){let e=l().$implicit;r("image",e.image)}}function Di(t,o){t&1&&u(0,"p-avatar",11)}function Oi(t,o){if(t&1){let e=k();c(0,"div",9),q(1,wi,1,1,"p-avatar",10)(2,Di,1,0,"p-avatar",11),c(3,"div",12)(4,"p",13),y(5),p(),c(6,"p",13),y(7),p()(),c(8,"div",14),u(9,"p-menu",15,0),c(11,"i",16),_("click",function(a){let n=g(e).$implicit,s=D(10),h=l();return x(h.clickMenu(n.id)&&s.toggle(a))}),p()()()}if(t&2){let e=o.$implicit,i=l();m(),Q(e.image?1:2),m(4),I(e.name),m(2),I(e.rol),m(2),r("model",i.items())("popup",!0)}}var oe=class t{shiftItem=N.required();shift=N.required();command=o=>console.log({e:o.index});employeeSelectedId=v("");items=v([{items:[{label:"Aprobar",styleClass:"text-primary",command:this.command},{label:"Remover",styleClass:"text-red-500",command:this.command}]}]);getTodayName(){let o=this.shiftItem().date.toLocaleDateString("es-AR",{weekday:"long"}),e=this.shiftItem().date.toLocaleDateString("es-AR",{day:"numeric"});return`${o.charAt(0).toUpperCase()}${o.slice(1)} ${e}`}clickMenu=o=>(this.employeeSelectedId.set(o),console.log({id:o}),!0);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-shift-column"]],inputs:{shiftItem:[1,"shiftItem"],shift:[1,"shift"]},decls:12,vars:2,consts:[["menu",""],[1,"flex","flex-column","h-full","min-h-0","border-round-lg","column","p-1"],[1,"w-full","flex","flex-column","bg-white","flex-shrink-0"],[1,"w-full","text-xs","flex","justify-content-between","align-items-center"],[1,"primary-color"],[1,"text-sm","t-gray"],[1,"pi","pi-plus-circle","primary-color","mx-1"],[1,"divider","my-2","mx-2"],[1,"flex","flex-column","gap-1","flex-1","min-h-0","scrollable"],[1,"flex","align-items-center","bg-white","border-round-sm","gap-1","w-full","py-2"],["shape","circle",1,"flex-shrink-0",3,"image"],["icon","pi pi-user","shape","circle",1,"flex-shrink-0"],[1,"flex","flex-column","flex-grow-1"],[1,"text-xs"],[1,"flex","w-auto","flex-shrink-0"],[3,"model","popup"],[1,"pi","pi-ellipsis-v",3,"click"]],template:function(e,i){e&1&&(c(0,"div",1)(1,"div",2)(2,"div",3)(3,"p",4),y(4),p(),c(5,"p",5),y(6),p(),u(7,"i",6),p(),u(8,"div",7),p(),c(9,"div",8),W(10,Oi,12,5,"div",9,K),p()()),e&2&&(m(4),Ne(" ",`${i.shiftItem()[i.shift()].employees.length}/${i.shiftItem()[i.shift()].quota}`," "),m(2),I(i.getTodayName()),m(4),j(i.shiftItem()[i.shift()].employees))},dependencies:[lt,rt,at,wt,ne],styles:[".column[_ngcontent-%COMP%]{border:1px solid var(--gray)}.divider[_ngcontent-%COMP%]{height:1px;background-color:var(--gray)}li.p-menu-submenu-label[_ngcontent-%COMP%]{display:none}"]})};function Ei(t,o){if(t&1&&u(0,"app-shift-column",7),t&2){let e=o.$implicit,i=l();F(i.getToday(e.date)?"outline: 2px solid var(--accent)":""),r("shiftItem",e)("shift",i.shift())}}var Se=class t{shiftWeek=v([]);shift=v("morning");constructor(){this.shiftWeek.set(Te())}setShift(o){this.shift.update(()=>o)}changeWeekView(o){let e=this.shiftWeek()[3].date;o?e.setDate(e.getDate()+7):e.setDate(e.getDate()-7),this.shiftWeek.update(()=>Te(e))}getToday=o=>new Date().toDateString()===o.toDateString();getWeekRangeString(){let o=this.shiftWeek(),e=o[0].date.getDate(),i=o[o.length-1].date,a=i.getDate(),n=i.getFullYear(),s=i.toLocaleDateString("es-AR",{month:"long"}),h=s.charAt(0).toUpperCase()+s.slice(1);return`${e} a ${a} de ${h}, ${n}`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-shifts"]],decls:9,vars:1,consts:[[1,"flex","flex-shrink-0",3,"setShift"],[1,"flex","w-full","flex-grow-1","bg-light-gray","gap-1","my-1"],[1,"col","p-0","border-round-lg",2,"height","calc(100vh - 158px)",3,"shiftItem","shift","style"],[1,"flex","flex-shrink-0","justify-content-center","py-2","align-items-center"],[1,"pi","pi-chevron-left","text-primary","text-xl",3,"click"],[1,"mx-5"],[1,"pi","pi-chevron-right","text-primary","text-xl",3,"click"],[1,"col","p-0","border-round-lg",2,"height","calc(100vh - 158px)",3,"shiftItem","shift"]],template:function(e,i){e&1&&(c(0,"app-shift-header",0),_("setShift",function(n){return i.setShift(n)}),p(),c(1,"div",1),W(2,Ei,1,4,"app-shift-column",2,K),p(),c(4,"div",3)(5,"i",4),_("click",function(){return i.changeWeekView(!1)}),p(),c(6,"p",5),y(7),p(),c(8,"i",6),_("click",function(){return i.changeWeekView(!0)}),p()()),e&2&&(m(2),j(i.shiftWeek()),m(5),I(i.getWeekRangeString()))},dependencies:[ee,oe],styles:["[_nghost-%COMP%]{flex:1 1 0%;height:100%}"]})};export{Se as default};
