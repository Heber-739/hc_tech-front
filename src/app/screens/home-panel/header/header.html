<header class="header w-full flex align-items-center gap-3 px-3 py-2">
  <p class="text-3xl flex-grow-1 text-center">{{ title() }}</p>
  @if (user().rol == "superadmin") {
    <p-button (onClick)="openCompanyForm()" label="AdministraciÃ³n" />
  }

  <i
    class="pi pi-bell icon notify-icon text-xl"
    (click)="toggle($event)"
    [ngClass]="notifications().length > 0 ? 'primary-icon' : 'secundary-icon'"
  >
    @if (notifications().length > 0) {
    <p class="badge text-center">{{ notifications().length }}</p>
    }
  </i>
  <div class="card flex gap-2 h-fit">

    @if (user().imagen){
      <p-avatar class="mr-2" size="large" shape="circle" [image]="user().imagen" />
    } @else {
        <p-avatar icon="pi pi-user" class="mr-2" size="large" shape="circle" />
      }

    <div class="text-center m-auto">
      <p class="text-xl font-bold">{{ user().nombre }}</p>
      <p class="text-sm t-gray">{{ user().email }}</p>
    </div>
  </div>

  <p-popover #op>
    <div class="flex flex-column gap-4">


      @for(not of notifications(); track not) {
        <p class="font-medium block mb-2 w-16rem"> {{not.description}} </p>

        } @empty {
          <span class="font-medium block mb-2">No hay notificaciones</span>
        }
      </div>

  </p-popover>
</header>
